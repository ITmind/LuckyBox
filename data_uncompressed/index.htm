<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <title>LuckyBox Система автоматики винокура</title>

    <meta name="description"
        content="Версия 1.3 от 04.04.18. ПО распространяется на условиях лицензии GNU GPL v.3. www.LuckyCenter.ru">
    <meta name="author" content="Счастливчик">

    <link href="style.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/data_uncompressed/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/data_uncompressed/favicon-16x16.png" sizes="16x16" />

</head>

<body>

    <nav class="navbar">
        <div class="navbar-brand">LuckyBox Система автоматики винокура</div>
        <ul class="topmenu">
            <li class="active"><a href="#home" data-toggle="tab">Главная</a></li>
            <li><a id="toggle_settings" href="#settings" data-toggle="tab">Настройки</a></li>
            <li><a href="#">Помощь<span class="caret"></span></a>
                <ul class="submenu">
                    <li><a id="pop_sensors" href="#">Подключение датчиков</a></li>
                    <li><a href="https://luckycenter.ru/mnogofunkcionalnaja-avtomatika-luckybox"
                            target="_blank">Обновление прошивки</a></li>
                    <li><a href="#">Благодарности</a></li>
                    <li class="divider"></li>
                    <li><a href="https://luckycenter.ru/forum/konstruktorskoe-bjuro/avtomatizacija/avtomatika-luckybox"
                            target="_blank">Форум поддержки</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <div class="top-banner">
        <span id="version"></span>
        <div class="banner-gradient"></div>
        <div>Центр открытого проектирования <br>«у Счастливчика»</div>
    </div>

    <div class="main-tabs fill">
        <div class="container-fluid">
            <div class="tab-content">
                <div class="tab-pane active" id="home">
                    <div class="row">
                        <div class="section section_navtabs">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="wrapper-nav">
                                            <ul id="nav-tabs" class="nav nav-tabs list-tab swipe-tabs">
                                                <li class="theme_grey swipe-tab"><a href="#"
                                                        data-href="/data_uncompressed/distillation.htm">Дистилляция</a>
                                                </li>
                                                <li class="theme_grey swipe-tab"><a href="/data_uncompressed/reflux.htm"
                                                        data-target="#reflux" aria-controls="reflux" role="tab"
                                                        data-toggle="tab">Ректификация</a></li>
                                                <li class="theme_grey swipe-tab"><a
                                                        href="/data_uncompressed/mashing.htm" data-target="#mashing"
                                                        aria-controls="mashing" role="tab"
                                                        data-toggle="tab">Затирание</a></li>
                                                <!--<li class="theme_grey swipe-tab"><a href="brewing.htm" data-target="#brewing" aria-controls="brewing" role="tab" data-toggle="tab">Затирание</a></li>-->
                                                <li class="theme_grey swipe-tab"><a
                                                        href="/data_uncompressed/sensors.htm" data-target="#sensors"
                                                        aria-controls="sensors" role="tab" data-toggle="tab">Датчики</a>
                                                </li>
                                                <li class="theme_grey swipe-tab"><a href="/data_uncompressed/pid.htm"
                                                        data-target="#pid" aria-controls="pid" role="tab"
                                                        data-toggle="tab">ПИД регулировка</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-content list-tab-content swipe-tabs-container">
                            <div class="tab-pane theme_grey swipe-tab-content" id="distillation2"></div>
                            <div class="tab-pane swipe-tab-content theme_grey" id="reflux"></div>
                            <div class="tab-pane swipe-tab-content theme_grey" id="mashing"></div>
                            <!--<div class="tab-pane swipe-tab-content theme_grey" id="brewing"></div>-->
                            <div class="tab-pane swipe-tab-content theme_grey" id="sensors"></div>
                            <div class="tab-pane swipe-tab-content theme_grey" id="pid"></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="settings">
                    <div class="container">
                        <div class="row">
                            <div id="error_settings" class="col-md-offset-2 col-md-8"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Обновление прошивки</h4>
                                <div class="form-inline">
                                    <form id="firmware_update" method="POST" enctype="multipart/form-data">
                                        <div class="form-inline">
                                            <input id="file_update" type="file"
                                                class="form-control btn-success_ input-sm noSwipe" name="update">
                                            <button id="settings_update" type="submit"
                                                class="btn btn-success btn-sm noSwipe" disabled>Загрузить</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Имя устройства</h4>
                                <div class="form-inline">
                                    <input id="settings_ssdp" class="form-control input-sm noSwipe" value=""
                                        pattern="[0-9a-zA-Zа-яА-Я. ]{1,20}" placeholder="Имя устройства" size="30">
                                    <button id="settings_set_ssdp" type="button"
                                        class="btn btn-success btn-sm noSwipe">Сохранить</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Подключение к WiFi роутеру</h4>
                                <div class="form-inline">
                                    <div class="form-group mt-10">
                                        <input id="settings_ssid" class="form-control input-sm noSwipe" value=""
                                            placeholder="Имя WiFi сети">
                                    </div>
                                    <div class="form-group mt-10">
                                        <i class="label label-top">Пароль не менее 8 символов</i>
                                        <input id="settings_password" class="form-control input-sm noSwipe" value=""
                                            type="password" placeholder="Пароль">
                                    </div>
                                    <div class="form-group mt-10">
                                        <button id="settings_set_ssid" type="button"
                                            class="btn btn-success btn-sm noSwipe">Сохранить</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Точка доступа</h4>
                                <div class="form-inline">
                                    <div class="form-group mt-10">
                                        <input id="settings_ssidap" class="form-control input-sm noSwipe" value=""
                                            pattern="[0-9a-zA-Z.]{1,15}" placeholder="Имя WiFi сети">
                                    </div>
                                    <div class="form-group mt-10">
                                        <i class="label label-top">Пароль не менее 8 символов</i>
                                        <input id="settings_passwordap" class="form-control input-sm noSwipe" value=""
                                            pattern=".{8,15}" onfocus="this.type='text'" type="password"
                                            placeholder="Пароль">
                                    </div>
                                    <div class="form-group mt-10">
                                        <button id="settings_set_ssidap" type="button"
                                            class="btn btn-success btn-sm noSwipe">Сохранить</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Часовой пояс</h4>
                                <div class="form-inline">
                                    <input id="settings_timezone" class="form-control input-sm noSwipe" value=""
                                        pattern="[0-9]{1,3}" size="3">
                                    <button id="settings_set_timezone" type="button"
                                        class="btn btn-success btn-sm noSwipe">Сохранить</button>
                                    <button id="settings_auto_timezone" type="button"
                                        class="btn btn-success btn-sm noSwipe">Авто определение и сохранение
                                        зоны</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Настройки TFT экрана</h4>
                                <div class="form-inline">
                                    <div class="checkbox">
                                        <label><input id="tft_rotate" class="noSwipe" value="" type="checkbox">
                                            Развернуть TFT экран на 180°</label></div><br>
                                    <div class="checkbox"><label><input id="touchpad_rotate" class="noSwipe" value=""
                                                type="checkbox"> Развернуть сенсорную панель на
                                            180°</label></div>
                                    <button id="settings_set_rotate" type="button"
                                        class="btn btn-success btn-sm noSwipe">Сохранить</button>

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Тип силового блока</h4>
                                <div class="form-inline">
                                    <select id="power_block" class="form-control noSwipe input-sm">
                                        <option value="1">На твердотельных элементах</option>
                                        <option value="2">С плавной регулировкой</option>
                                    </select>
                                    <button id="settings_power_block" type="button"
                                        class="btn btn-success btn-sm noSwipe">Сохранить</button>

                                </div>
                            </div>
                        </div>
                        <div class="row pb-10 clearfix">
                            <div class="col-md-12">
                                <h4>Перезагрузка устройства</h4>
                                <div class="form-inline">
                                    <button id="settings_restart" type="button"
                                        class="btn btn-warning btn-sm noSwipe">Перезагрузить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="distillation"></div>
    <footer class="footer">
        <p>© 2020 ITmindCo</p>
        <p class="right">www.LuckyCenter.ru</p>
    </footer>

    <dialog id="imagemodal2">
        <div>
            <div>
                <button type="button" class="close">Закрыть</button>
                <h5>Схема подключения датчиков и устройств к коммерческой версии LuckyBox</h5>
            </div>
            <div>
                <img src="/data_uncompressed/connectors.jpg" style="width: 100%;">
            </div>
        </div>
    </dialog>

    <audio id="alert_audio" preload="none">
        <source src="/data_uncompressed/beep.mp3" type='audio/mpeg; codecs="mp3"'>
        <source src="/data_uncompressed/beep.ogg" type='audio/ogg; codecs="vorbis"'>
    </audio>

    <!--Графики-->
    <script type="text/javascript" src="/data_uncompressed/highstock.js"></script>
    <script type="text/javascript" src="/data_uncompressed/exporting.js"></script>
    <script type="text/javascript" src="/data_uncompressed/export-data.js"></script>

    <!--Скрипты-->
    <script type="text/javascript" src="/data_uncompressed/ajaxloader.js"></script>
    <script type="text/javascript" src="/data_uncompressed/dialog.js"></script>
    <script type="text/javascript" src="/data_uncompressed/scripts.js?v=c1823c6956a14d4338c7"></script>

    <script type="text/javascript" src="/data_uncompressed/jscolor.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelector('#pop_sensors').addEventListener('click', function (e) {
                e.preventDefault();
                document.getElementById('imagemodal2').show();
            });
            document.querySelector('#distillation_link').addEventListener('click', function (e) {
                e.preventDefault();

                var link = "/data_uncompressed/distillation.htm";
                var content = document.querySelector('#distillation');

                var http = new XMLHttpRequest();
                if (http) {
                    http.open('get', link);
                    http.onreadystatechange = function () {
                        if (http.readyState == 4) { content.innerHTML = http.responseText; }
                    }
                    http.send(null);
                }
            });
        });
    </script>
</body>

</html>